<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Portfolio – Noam Labrousse</title>
  <link rel="stylesheet" href="style.css" />

  <style>
    /* === LIGHTBOX === */
    #lightbox {
      display: none;
      position: fixed;
      z-index: 2000;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.85);
      justify-content: center;
      align-items: center;
    }

    #lightbox img {
      max-width: 90%;
      max-height: 90%;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.6);
    }
  </style>

  <script defer>
    const FILES = [
      { file: "ENIM/1690819606093.jpg", title: "Après l'armée" },
      { file: "ENIM/1690819641361.jpg", title: "Découverte de l'armée" },
      { file: "ENIM/1690819902151.jpg", title: "Découverte de Ronaldo" },
      { file: "ENIM/1690819902168.jpg", title: "Admission à l'ENIM" },
      { file: "ENIM/1690820029110.jpeg", title: "Somelier de bière" },
      { file: "ENIM/1690820367887.jpg", title: "Je tiens l'alcool" },
      { file: "ENIM/1690820689142.jpg", title: "BAC mention pas mal" },
      { file: "ENIM/1690820700313.jpg", title: "Dodo Strategique" },
      { file: "ENIM/1690820767581.jpg", title: "La reine du jour" },
      { file: "ENIM/1690820767593.jpg", title: "Mais comment on met cette couronne?" },
      { file: "ENIM/1690820895470.webp", title: "Pas beaucoup d'efforts" },
      { file: "ENIM/1690820895507.jpg", title: "Salut BG" },
      { file: "ENIM/1690820895541.jpg", title: "Perdu dans l'océan" },
      { file: "ENIM/1690821357943.jpg", title: "1er Business" },
      { file: "ENIM/1690821379823.jpg", title: "Test filtres Snap" },
      { file: "ENIM/Snapchat-5210338.jpg", title: "Ouverture restaurant" },
      { file: "ENIM/Snapchat-306456430.jpg", title: "1er jour à l'ENIM" },
      { file: "ENIM/Snapchat-434031513.jpg", title: "Objectif pilote" },
      { file: "ENIM/Snapchat-714713200.jpg", title: "La 4DX" },
      { file: "ENIM/Snapchat-722739258.jpg", title: "Photo Tinder" },
      { file: "ENIM/Snapchat-977017144.jpg", title: "Journée nudiste" },
      { file: "ENIM/Snapchat-1308934084.jpg", title: "Businessman on duty" },
      { file: "ENIM/Snapchat-1476886903.jpg", title: "2ème restaurant" },
      { file: "ENIM/Snapchat-1990062838.jpg", title: "Le sapin et moi" }
    ];

    const VIDEOS = [
      { file: "ENIM/Snapchat-256629447.mp4", title: "Examen admissibilité conservatoire" },
      { file: "ENIM/Snapchat-997792604.mp4", title: "Test QI" },
      { file: "ENIM/Snapchat-1241467673.mp4", title: "Showcase" },
      { file: "ENIM/Snapchat-1328758574.mp4", title: "La satisfaction est dans la simplicité" },
      { file: "ENIM/Snapchat-1429166661.mp4", title: "Cuisinier" },
      { file: "ENIM/Snapchat-1526296708.mp4", title: "Victoire JO" },
    ];

    function renderGallery(list, containerId, isVideo=false) {
      const container = document.getElementById(containerId);
      list.forEach(item => {
        const card = document.createElement("figure");
        card.className = "card";
        if (isVideo) {
          const v = document.createElement("video");
          v.src = item.file;
          v.controls = true;
          v.className = "media";
          card.appendChild(v);
        } else {
          const img = document.createElement("img");
          img.src = item.file;
          img.alt = item.title;
          img.className = "media zoomable"; // ajoute une classe pour le zoom
          card.appendChild(img);
        }
        const cap = document.createElement("figcaption");
        cap.textContent = item.title;
        card.appendChild(cap);
        container.appendChild(card);
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      renderGallery(FILES, "photos-grid");
      renderGallery(VIDEOS, "videos-grid", true);

      // === LIGHTBOX ===
      const lightbox = document.getElementById("lightbox");
      const lightboxImg = lightbox.querySelector("img");

      document.body.addEventListener("click", e => {
        if (e.target.classList.contains("zoomable")) {
          lightbox.style.display = "flex";
          lightboxImg.src = e.target.src;
        }
      });

      lightbox.addEventListener("click", () => {
        lightbox.style.display = "none";
      });

      document.addEventListener("keydown", e => {
        if (e.key === "Escape") lightbox.style.display = "none";
      });
    });
  </script>
</head>
<body>
  <header>
    <h1>Portfolio</h1>
    <nav>
      <ul>
        <li><a href="index.html">Accueil</a></li>
        <li><a href="portfolio.html">Portfolio</a></li>
        <li><a href="merch.html">Merch</a></li>
        <li><a href="test-qi.html">Test de QI</a></li>
        <li><a href="labyrinthe.html">Casino</a></li>
        <li><a href="bourse.html">Bourse</a></li>
        <li><a href="contact.html">Me contacter</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section>
      <h2>Photos</h2>
      <div id="photos-grid" class="gallery"></div>
    </section>

    <section>
      <h2>Preuve de l'intelligence (vidéos)</h2>
      <div id="videos-grid" class="gallery"></div>
    </section>
  </main>

  <!-- Lightbox -->
  <div id="lightbox">
    <img src="" alt="Zoom">
  </div>
</body>
</html>
